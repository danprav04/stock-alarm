2025-05-24 22:08:17,673 - root - INFO - ===================================================================
2025-05-24 22:08:17,674 - root - INFO - Starting Financial Analysis Script at 2025-05-24 22:08:17.674052
2025-05-24 22:08:17,674 - root - INFO - ===================================================================
2025-05-24 22:08:17,676 - root - INFO - Running all analyses for default stocks: ['AAPL', 'MSFT', 'GOOGL'], IPOs, and News.
2025-05-24 22:08:17,676 - root - INFO - --- Starting Individual Stock Analysis for: ['AAPL', 'MSFT', 'GOOGL'] ---
2025-05-24 22:08:19,279 - root - INFO - Stock AAPL not found in DB, creating new entry.
2025-05-24 22:08:20,722 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/profile/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:08:21,152 - root - INFO - Successfully created and committed new stock entry for AAPL (ID: 1).
2025-05-24 22:08:21,241 - root - INFO - Refreshed stock entry for AAPL after creation. Company Name: Apple Inc.
2025-05-24 22:08:21,242 - root - INFO - Starting analysis for AAPL...
2025-05-24 22:08:21,243 - root - INFO - Fetching financial data for AAPL...
2025-05-24 22:08:21,331 - root - INFO - Cache hit for: GET:https://financialmodelingprep.com/api/v3/profile/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:08:22,812 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/income-statement/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:24,220 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/balance-sheet-statement/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:25,633 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/cash-flow-statement/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:27,062 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/key-metrics/AAPL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:28,775 - root - INFO - Cached response for: GET:https://finnhub.io/api/v1/stock/metric?metric=all&symbol=AAPL&token=d0o7hphr01qqr9alj38gd0o7hphr01qqr9alj390
2025-05-24 22:08:28,777 - root - INFO - Calculating metrics for AAPL...
2025-05-24 22:08:28,778 - root - INFO - Calculated metrics for AAPL: {'pe_ratio': 37.287278415656736, 'pb_ratio': 61.37243774486391, 'dividend_yield': 0.0043585983369965175, 'debt_to_equity': 1.872326602282704, 'net_profit_margin': None, 'roe': 1.6459350307287095, 'eps': 6.0836, 'revenue_growth': '2.02%', 'current_ratio': 0.8673125765340832, 'retained_earnings_trend': 'Mixed/Stable', 'free_cash_flow_trend': 'Mixed/Stable', 'interest_coverage_ratio': None}
2025-05-24 22:08:28,779 - root - INFO - Analyzing qualitative factors for AAPL using Gemini...
2025-05-24 22:08:39,598 - root - INFO - Qualitative analysis for AAPL complete.
2025-05-24 22:08:39,599 - root - INFO - Determining investment strategy for AAPL...
2025-05-24 22:08:51,175 - root - INFO - Successfully analyzed and saved stock: AAPL (Analysis ID: 1)
2025-05-24 22:08:51,428 - root - INFO - Stock MSFT not found in DB, creating new entry.
2025-05-24 22:08:52,784 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/profile/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:08:53,212 - root - INFO - Successfully created and committed new stock entry for MSFT (ID: 2).
2025-05-24 22:08:53,298 - root - INFO - Refreshed stock entry for MSFT after creation. Company Name: Microsoft Corporation
2025-05-24 22:08:53,299 - root - INFO - Starting analysis for MSFT...
2025-05-24 22:08:53,300 - root - INFO - Fetching financial data for MSFT...
2025-05-24 22:08:53,389 - root - INFO - Cache hit for: GET:https://financialmodelingprep.com/api/v3/profile/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:08:54,905 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/income-statement/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:56,313 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/balance-sheet-statement/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:57,729 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/cash-flow-statement/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:08:59,125 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/key-metrics/MSFT?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:09:00,726 - root - INFO - Cached response for: GET:https://finnhub.io/api/v1/stock/metric?metric=all&symbol=MSFT&token=d0o7hphr01qqr9alj38gd0o7hphr01qqr9alj390
2025-05-24 22:09:00,728 - root - INFO - Calculating metrics for MSFT...
2025-05-24 22:09:00,729 - root - INFO - Calculated metrics for MSFT: {'pe_ratio': 38.508221725515114, 'pb_ratio': 12.641532161041727, 'dividend_yield': 0.006414629506176681, 'debt_to_equity': 0.25002886653232864, 'net_profit_margin': None, 'roe': 0.32828137978299815, 'eps': 11.8002, 'revenue_growth': '15.67%', 'interest_coverage_ratio': 45.31822827938671, 'current_ratio': 1.2749549031815206, 'retained_earnings_trend': 'Growing', 'free_cash_flow_trend': 'Mixed/Stable'}
2025-05-24 22:09:00,730 - root - INFO - Analyzing qualitative factors for MSFT using Gemini...
2025-05-24 22:09:16,710 - root - INFO - Qualitative analysis for MSFT complete.
2025-05-24 22:09:16,711 - root - INFO - Determining investment strategy for MSFT...
2025-05-24 22:09:26,499 - root - INFO - Successfully analyzed and saved stock: MSFT (Analysis ID: 2)
2025-05-24 22:09:26,751 - root - INFO - Stock GOOGL not found in DB, creating new entry.
2025-05-24 22:09:28,159 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/profile/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:09:28,591 - root - INFO - Successfully created and committed new stock entry for GOOGL (ID: 3).
2025-05-24 22:09:28,676 - root - INFO - Refreshed stock entry for GOOGL after creation. Company Name: Alphabet Inc.
2025-05-24 22:09:28,677 - root - INFO - Starting analysis for GOOGL...
2025-05-24 22:09:28,678 - root - INFO - Fetching financial data for GOOGL...
2025-05-24 22:09:28,765 - root - INFO - Cache hit for: GET:https://financialmodelingprep.com/api/v3/profile/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB
2025-05-24 22:09:30,270 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/income-statement/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:09:31,680 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/balance-sheet-statement/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:09:33,119 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/cash-flow-statement/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:09:34,543 - root - INFO - Cached response for: GET:https://financialmodelingprep.com/api/v3/key-metrics/GOOGL?apikey=62ERGmJoqQgGD0nSGxRZS91TVzfz61uB&limit=5&period=annual
2025-05-24 22:09:35,947 - root - INFO - Cached response for: GET:https://finnhub.io/api/v1/stock/metric?metric=all&symbol=GOOGL&token=d0o7hphr01qqr9alj38gd0o7hphr01qqr9alj390
2025-05-24 22:09:35,949 - root - INFO - Calculating metrics for GOOGL...
2025-05-24 22:09:35,950 - root - INFO - Calculated metrics for GOOGL: {'pe_ratio': 23.292381989252682, 'pb_ratio': 7.173489621144074, 'dividend_yield': 0.0031573936506584708, 'debt_to_equity': 0.07832129541903016, 'net_profit_margin': None, 'roe': 0.30797578472025694, 'eps': 7.5203, 'revenue_growth': '13.87%', 'interest_coverage_ratio': 505.2014925373134, 'current_ratio': 1.8369313974102914, 'retained_earnings_trend': 'Growing', 'free_cash_flow_trend': 'Growing'}
2025-05-24 22:09:35,951 - root - INFO - Analyzing qualitative factors for GOOGL using Gemini...
2025-05-24 22:09:50,688 - root - INFO - Qualitative analysis for GOOGL complete.
2025-05-24 22:09:50,690 - root - INFO - Determining investment strategy for GOOGL...
2025-05-24 22:10:00,148 - root - INFO - Successfully analyzed and saved stock: GOOGL (Analysis ID: 3)
2025-05-24 22:10:00,236 - root - INFO - --- Starting IPO Analysis Pipeline ---
2025-05-24 22:10:00,237 - root - INFO - Fetching upcoming IPOs using Finnhub...
2025-05-24 22:10:01,453 - root - INFO - Cached response for: GET:https://finnhub.io/api/v1/calendar/ipo?from=2025-05-17&to=2025-08-22&token=d0o7hphr01qqr9alj38gd0o7hphr01qqr9alj390
2025-05-24 22:10:01,455 - root - INFO - Successfully parsed 20 IPOs from Finnhub response.
2025-05-24 22:10:01,456 - root - INFO - Total unique IPOs fetched after deduplication: 19
2025-05-24 22:10:01,457 - root - INFO - Starting analysis for IPO: Vantage Corp (Singapore) from source Finnhub
2025-05-24 22:10:01,629 - root - INFO - Found existing IPO entry for 'Vantage Corp (Singapore)' (ID: 1). Checking for updates.
2025-05-24 22:10:01,816 - root - INFO - Re-analyzing IPO Vantage Corp (Singapore) due to significant calendar change or analysis older than one day.
2025-05-24 22:11:06,998 - root - INFO - Updating existing IPO analysis for Vantage Corp (Singapore) (ID: 1)
2025-05-24 22:11:07,565 - root - INFO - Successfully analyzed and saved IPO: Vantage Corp (Singapore) (Analysis ID: 1)
2025-05-24 22:11:10,567 - root - INFO - Starting analysis for IPO: Fast Track Group from source Finnhub
2025-05-24 22:11:10,651 - root - INFO - Found existing IPO entry for 'Fast Track Group' (ID: 2). Checking for updates.
2025-05-24 22:11:10,819 - root - INFO - Re-analyzing IPO Fast Track Group due to significant calendar change or analysis older than one day.
2025-05-24 22:12:14,864 - root - INFO - Updating existing IPO analysis for Fast Track Group (ID: 2)
2025-05-24 22:12:15,394 - root - INFO - Successfully analyzed and saved IPO: Fast Track Group (Analysis ID: 2)
2025-05-24 22:12:18,397 - root - INFO - Starting analysis for IPO: Pelican Acquisition Corp from source Finnhub
2025-05-24 22:12:18,482 - root - INFO - Found existing IPO entry for 'Pelican Acquisition Corp' (ID: 3). Checking for updates.
2025-05-24 22:12:18,651 - root - INFO - Re-analyzing IPO Pelican Acquisition Corp due to significant calendar change or analysis older than one day.
2025-05-24 22:13:21,459 - root - INFO - Updating existing IPO analysis for Pelican Acquisition Corp (ID: 3)
2025-05-24 22:13:21,977 - root - INFO - Successfully analyzed and saved IPO: Pelican Acquisition Corp (Analysis ID: 3)
2025-05-24 22:13:24,981 - root - INFO - Starting analysis for IPO: Cal Redwood Acquisition Corp. from source Finnhub
2025-05-24 22:13:25,066 - root - INFO - Found existing IPO entry for 'Cal Redwood Acquisition Corp.' (ID: 4). Checking for updates.
2025-05-24 22:13:25,235 - root - INFO - Re-analyzing IPO Cal Redwood Acquisition Corp. due to significant calendar change or analysis older than one day.
2025-05-24 22:14:25,935 - root - INFO - Updating existing IPO analysis for Cal Redwood Acquisition Corp. (ID: 4)
2025-05-24 22:14:26,459 - root - INFO - Successfully analyzed and saved IPO: Cal Redwood Acquisition Corp. (Analysis ID: 4)
2025-05-24 22:14:29,461 - root - INFO - Starting analysis for IPO: Oyster Enterprises II Acquisition Corp from source Finnhub
2025-05-24 22:14:29,547 - root - INFO - Found existing IPO entry for 'Oyster Enterprises II Acquisition Corp' (ID: 5). Checking for updates.
2025-05-24 22:14:29,718 - root - INFO - Re-analyzing IPO Oyster Enterprises II Acquisition Corp due to significant calendar change or analysis older than one day.
2025-05-24 22:15:27,560 - root - INFO - Updating existing IPO analysis for Oyster Enterprises II Acquisition Corp (ID: 5)
2025-05-24 22:15:28,081 - root - INFO - Successfully analyzed and saved IPO: Oyster Enterprises II Acquisition Corp (Analysis ID: 5)
2025-05-24 22:15:31,082 - root - INFO - Starting analysis for IPO: Hinge Health, Inc. from source Finnhub
2025-05-24 22:15:31,167 - root - INFO - Found existing IPO entry for 'Hinge Health, Inc.' (ID: 6). Checking for updates.
2025-05-24 22:15:31,335 - root - INFO - Re-analyzing IPO Hinge Health, Inc. due to significant calendar change or analysis older than one day.
2025-05-24 22:16:40,489 - root - INFO - Updating existing IPO analysis for Hinge Health, Inc. (ID: 6)
2025-05-24 22:16:41,018 - root - INFO - Successfully analyzed and saved IPO: Hinge Health, Inc. (Analysis ID: 6)
2025-05-24 22:16:44,020 - root - INFO - Starting analysis for IPO: MNTN, Inc. from source Finnhub
2025-05-24 22:16:44,106 - root - INFO - Found existing IPO entry for 'MNTN, Inc.' (ID: 7). Checking for updates.
2025-05-24 22:16:44,282 - root - INFO - Re-analyzing IPO MNTN, Inc. due to significant calendar change or analysis older than one day.
2025-05-24 22:17:47,456 - root - INFO - Updating existing IPO analysis for MNTN, Inc. (ID: 7)
2025-05-24 22:17:47,978 - root - INFO - Successfully analyzed and saved IPO: MNTN, Inc. (Analysis ID: 7)
2025-05-24 22:17:50,981 - root - INFO - Starting analysis for IPO: AParadise Acquisition Corp. from source Finnhub
2025-05-24 22:17:51,068 - root - INFO - Found existing IPO entry for 'AParadise Acquisition Corp.' (ID: 8). Checking for updates.
2025-05-24 22:17:51,239 - root - ERROR - Error during IPO analysis pipeline: can't compare offset-naive and offset-aware datetimes
Traceback (most recent call last):
  File "C:\GitHub\stock-alarm\main.py", line 35, in run_ipo_analysis
    results = analyzer.run_ipo_analysis_pipeline()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\GitHub\stock-alarm\ipo_analyzer.py", line 381, in run_ipo_analysis_pipeline
    result = self.analyze_single_ipo(ipo_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\GitHub\stock-alarm\ipo_analyzer.py", line 236, in analyze_single_ipo
    if existing_analysis and not significant_change and existing_analysis.analysis_date > one_day_ago:
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: can't compare offset-naive and offset-aware datetimes
2025-05-24 22:17:51,249 - root - INFO - --- Starting News Analysis Pipeline (Category: general, Count: 3) ---
2025-05-24 22:17:51,334 - root - INFO - Fetching latest market news for category: general (max 6)...
2025-05-24 22:17:52,657 - root - INFO - Cached response for: GET:https://finnhub.io/api/v1/news?category=general&token=d0o7hphr01qqr9alj38gd0o7hphr01qqr9alj390
2025-05-24 22:17:52,659 - root - INFO - Fetched 100 news items from Finnhub.
2025-05-24 22:17:52,849 - root - INFO - News event 'U.S. travelers say these are the 10 most popular summer destinations around the globe: 'People are craving relaxation'' is new. Storing and analyzing.
2025-05-24 22:17:53,273 - root - INFO - Stored new news event: U.S. travelers say these are the 10 most popular summer destinations around the globe: 'People are craving relaxation'
2025-05-24 22:17:53,275 - root - INFO - Analyzing news: U.S. travelers say these are the 10 most popular summer destinations around the globe: 'People are craving relaxation'
2025-05-24 22:18:59,018 - root - INFO - Successfully analyzed and saved news: U.S. travelers say these are the 10 most popular summer destinations around the globe: 'People are craving relaxation'
2025-05-24 22:19:01,188 - root - INFO - News event 'My wife and I are 73 and retired. Can we afford a $1.2 million home?' is new. Storing and analyzing.
2025-05-24 22:19:01,609 - root - INFO - Stored new news event: My wife and I are 73 and retired. Can we afford a $1.2 million home?
2025-05-24 22:19:01,609 - root - INFO - Analyzing news: My wife and I are 73 and retired. Can we afford a $1.2 million home?
2025-05-24 22:20:15,883 - root - INFO - Successfully analyzed and saved news: My wife and I are 73 and retired. Can we afford a $1.2 million home?
2025-05-24 22:20:18,052 - root - INFO - News event 'I published my first book at 38—here's exactly how I changed careers to make it happen' is new. Storing and analyzing.
2025-05-24 22:20:18,472 - root - INFO - Stored new news event: I published my first book at 38—here's exactly how I changed careers to make it happen
2025-05-24 22:20:18,474 - root - INFO - Analyzing news: I published my first book at 38—here's exactly how I changed careers to make it happen
2025-05-24 22:21:16,792 - root - INFO - Successfully analyzed and saved news: I published my first book at 38—here's exactly how I changed careers to make it happen
2025-05-24 22:21:18,795 - root - INFO - News analysis pipeline completed. Newly analyzed 3 items.
2025-05-24 22:21:18,796 - root - INFO - --- Generating Today's Email Summary ---
2025-05-24 22:21:19,503 - root - INFO - Found 3 stock analyses, 18 IPO analyses, 3 news analyses for today's email.
2025-05-24 22:21:25,271 - root - INFO - Email sent successfully to daniprav@gmail.com
